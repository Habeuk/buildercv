"use strict";(("undefined"!==typeof self?self:this)["webpackChunkBuilderCv"]=("undefined"!==typeof self?self:this)["webpackChunkBuilderCv"]||[]).push([[316],{9316:function(e,t,i){i.r(t),i.d(t,{default:function(){return h}});var s=function(){var e=this,t=e._self._c;return t("div",[t("b-form-group",{attrs:{label:e.field.label}},["options_select"==e.field.type?t("b-form-select",{attrs:{options:e.options,name:e.field.name},on:{change:e.input},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}):t("b-form-radio-group",{attrs:{options:e.options,name:e.field.name},on:{change:e.input},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},n=[],a=(i(6352),i(7272)),r=i(7479),l={name:"OptionsEntities",components:{},props:{field:{type:Object,required:!0},model:{type:[Object,Array],required:!0},namespaceStore:{type:String,required:!0}},data(){return{options:[],selected:null}},mounted(){this.loadTerms(),this.selected=this.getValue()},methods:{loadTerms(){let e=this.getFistVocab();if(e&&r.Z.config){const t=new a.Z(e,e,r.Z.config);t.get().then((()=>{this.options=t.getOptions()}))}},getFistVocab(){if(this.field.definition_settings.handler_settings.target_bundles){const e=Object.keys(this.field.definition_settings.handler_settings.target_bundles);return this.field.definition_settings.handler_settings.target_bundles[e[0]]}return this.field.definition_settings.target_type?this.field.definition_settings.target_type:null},input(e){const t=[];t.push({target_id:e}),this.$emit("setValue",t)},getValue(){return this.model[this.field.name]&&this.model[this.field.name][0]?this.model[this.field.name][0].value?this.model[this.field.name][0].value:this.model[this.field.name][0].target_id:null}}},d=l,u=i(1001),o=(0,u.Z)(d,s,n,!1,null,null,null),h=o.exports},7272:function(e,t,i){i(5251);var s=i(1232),n=i(4610),a=i(3215);class r{constructor(e,t=null,i=null){this.entity_type_id=e,t||(t=e),this.url=n.Z.baseURl+"/"+this.entity_type_id+"/"+t,this.items=[],i&&i.TestDomain&&(s.Z.TestDomain=i.TestDomain)}get(){return new Promise((e=>{s.Z.dGet(this.url,n.Z.headers).then((t=>{this.items=t.data,e(t.data)}))}))}getSearch(e){const t=new a.Z;return t.addFilter("name","CONTAINS",e),new Promise((e=>{s.Z.dGet(this.url+"?"+t.query,n.Z.headers).then((t=>{this.items=t.data,e(t.data)}))}))}getValue(e){const t=new a.Z;return t.addFilter("name","=",e),new Promise((e=>{s.Z.dGet(this.url+"?"+t.query,n.Z.headers).then((t=>{this.items=t.data,e(t.data)}))}))}getValueByTid(e){const t=new a.Z;return t.addFilter("tid","=",e),new Promise(((e,i)=>{s.Z.dGet(this.url+"?"+t.query,n.Z.headers).then((t=>{this.items=t.data,e(t.data)})).catch((e=>{i(e)}))}))}getValueById(e){const t=new a.Z;let i="id";switch(this.entity_type_id){case"user":i="uid";break;case"domain":i="drupal_internal__id";break}return t.addFilter(i,"=",e),new Promise((e=>{s.Z.get(this.url+"?"+t.query,n.Z.headers).then((t=>{this.items=t.data,e(t.data)}))}))}getOptions(){const e=[];for(const t in this.items.data){const i=this.items.data[t];"user"==this.entity_type_id?e.push({text:i.attributes.name,value:i.attributes.drupal_internal__uid}):i.attributes.name?e.push({text:i.attributes.name,value:i.attributes.drupal_internal__id}):i.attributes.label&&e.push({text:i.attributes.label,value:i.attributes.drupal_internal__id})}return e}}t["Z"]=r}}]);
//# sourceMappingURL=BuilderCv.umd.min.316.js.map